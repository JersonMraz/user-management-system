import{a as f}from"./chunk-MLL72OG6.js";import{Ba as y,Fa as i,a as c,aa as v,b as u,c as g,e as S,g as w,h as k,k as o,m as s}from"./chunk-JYF5EYNH.js";var T=function(t){return t.User="User",t.Admin="Admin",t}(T||{});var a=class{id;type;message;autoClose;keepAfterRouteChange;fade;constructor(d){Object.assign(this,d)}},l=function(t){return t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t}(l||{});var O=(()=>{class t{subject=new g;defaultId="default-alert";onAlert(e=this.defaultId){return this.subject.asObservable().pipe(w(r=>r&&r.id===e))}success(e,r){this.alert(new a(u(c({},r),{type:l.Success,message:e})))}error(e,r){this.alert(new a(u(c({},r),{type:l.Error,message:e})))}info(e,r){this.alert(new a(u(c({},r),{type:l.Info,message:e})))}warn(e,r){this.alert(new a(u(c({},r),{type:l.Warning,message:e})))}alert(e){e.id=e.id||this.defaultId,e.autoClose=e.autoClose===void 0?!0:e.autoClose,this.subject.next(e)}clear(e=this.defaultId){this.subject.next(new a({id:e}))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K=(()=>{class t{http;constructor(e){this.http=e}getAll(){return this.http.get(`${i.apiUrl}/workflows`)}getById(e){return this.http.get(`${i.apiUrl}/workflows/${e}`)}getByEmployeeId(e){return this.http.get(`${i.apiUrl}/workflows/employee/${e}`)}create(e){return this.http.post(`${i.apiUrl}/workflows`,e)}update(e,r){return this.http.put(`${i.apiUrl}/workflows/${e}`,r)}updateStatus(e,r){return this.http.put(`${i.apiUrl}/workflows/${e}/status`,{status:r})}delete(e){return this.http.delete(`${i.apiUrl}/workflows/${e}`)}static \u0275fac=function(r){return new(r||t)(s(v))};static \u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function te(t){return()=>new Promise(d=>{t.refreshToken().subscribe().add(d)})}var oe=(()=>{class t{router;accountService;constructor(e,r){this.router=e,this.accountService=r}canActivate(e,r){let n=this.accountService.accountValue;return n?e.data.roles&&!e.data.roles.includes(n.role)?(this.router.navigate(["/"]),!1):!0:(this.router.navigate(["/account/login"],{queryParams:{returnUrl:r.url}}),!1)}static \u0275fac=function(r){return new(r||t)(s(y),s(f))};static \u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ce=(()=>{class t{accountService;constructor(e){this.accountService=e}intercept(e,r){return r.handle(e).pipe(k(n=>{[401,403].includes(n.status)&&this.accountService.accountValue&&this.accountService.logout();let h=n.error?.message||n.statusText;return console.error(n),S(h)}))}static \u0275fac=function(r){return new(r||t)(s(f))};static \u0275prov=o({token:t,factory:t.\u0275fac})}return t})();var le=(()=>{class t{accountService;constructor(e){this.accountService=e}intercept(e,r){let n=this.accountService.accountValue,h=n&&n.jwtToken,I=e.url.startsWith(i.apiUrl);return h&&I&&(e=e.clone({setHeaders:{Authorization:`Bearer ${n.jwtToken}`}})),r.handle(e)}static \u0275fac=function(r){return new(r||t)(s(f))};static \u0275prov=o({token:t,factory:t.\u0275fac})}return t})();function pe(t,d){return e=>{let r=e.controls[t],n=e.controls[d];n.errors&&!n.errors.mustMatch||(r.value!==n.value?n.setErrors({mustMatch:!0}):n.setErrors(null))}}var A="angular-10-signup-verification-boilerplate-accountss",ge=JSON.parse(localStorage.getItem(A))||[],E="angular-10-signup-verification-boilerplate-requests",Se=JSON.parse(localStorage.getItem(E))||[],x="angular-10-signup-verification-boilerplate-employees",we=JSON.parse(localStorage.getItem(x))||[],b="angular-10-signup-verification-boilerplate-departments",ke=JSON.parse(localStorage.getItem(b))||[];export{l as a,T as b,O as c,K as d,te as e,oe as f,ce as g,le as h,pe as i};
