import{a as f,b as k,c as Y,e as Z,f as M,g as q,h as K}from"./chunk-LRGH7V6E.js";import"./chunk-HPUE7TLN.js";import{a as d}from"./chunk-MLL72OG6.js";import"./chunk-O66SMQNR.js";import{A,Aa as B,B as x,Ba as J,C as b,Ca as W,D as l,Da as $,Ea as T,F as a,Fa as G,H as E,O as L,P as N,V as F,W as H,X as j,Y as S,ba as y,ca as O,da as D,ea as P,l as g,n as m,o as h,p as _,q as C,r as R,s as c,t as p,u,v as s,x as w,xa as V,y as n,ya as z,z as o}from"./chunk-JYF5EYNH.js";var U=(()=>{class e{accountService;account;constructor(t){this.accountService=t,this.account=this.accountService.accountValue}static \u0275fac=function(i){return new(i||e)(p(d))};static \u0275cmp=m({type:e,selectors:[["ng-component"]],decls:6,vars:1,consts:[[1,"p-4"],[1,"container"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3),o(),n(4,"p"),a(5,"You're logged in with Angular 10 & JWT!!"),o()()()),i&2&&(c(3),E("Hi ",r.account.firstName,"!"))},encapsulation:2})}return e})();var re=()=>import("./chunk-DBGN6G6P.js").then(e=>e.AccountModule),ne=()=>import("./chunk-NPQOHDTR.js").then(e=>e.AdminModule),ae=()=>import("./chunk-ACO7CJQA.js").then(e=>e.ProfileModule),ce=[{path:"",component:U,canActivate:[M]},{path:"account",loadChildren:re},{path:"profile",loadChildren:ae,canActivate:[M]},{path:"admin",loadChildren:ne,canActivate:[M],data:{roles:[k.Admin]}},{path:"**",redirectTo:""}],X=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=h({type:e});static \u0275inj=g({imports:[T.forRoot(ce),T]})}return e})();function le(e,v){if(e&1){let t=x();n(0,"div")(1,"a",4),b("click",function(){let r=_(t).$implicit,oe=l(2);return C(oe.removeAlert(r))}),a(2,"\xD7"),o(),A(3,"span",5),o()}if(e&2){let t=v.$implicit,i=l(2);w(i.cssClasses(t)),c(3),s("innerHTML",t.message,R)}}function me(e,v){if(e&1&&(n(0,"div",1)(1,"div",2),u(2,le,4,4,"div",3),o()()),e&2){let t=l();c(2),s("ngForOf",t.alerts)}}var ee=(()=>{class e{router;alertService;id="default-alert";fade=!0;alerts=[];alertSubscription;routeSubscription;constructor(t,i){this.router=t,this.alertService=i}ngOnInit(){this.alertSubscription=this.alertService.onAlert(this.id).subscribe(t=>{if(!t.message){this.alerts=this.alerts.filter(i=>i.keepAfterRouteChange),this.alerts.forEach(i=>delete i.keepAfterRouteChange);return}this.alerts.push(t),t.autoClose&&setTimeout(()=>this.removeAlert(t),3e3)}),this.routeSubscription=this.router.events.subscribe(t=>{t instanceof z&&this.alertService.clear(this.id)})}ngOnDestroy(){this.alertSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}removeAlert(t){this.alerts.includes(t)&&(this.fade?(t.fade=!0,setTimeout(()=>{this.alerts=this.alerts.filter(i=>i!==t)},250)):this.alerts=this.alerts.filter(i=>i!==t))}cssClasses(t){if(!t)return;let i=["alert","alert-dismissable"],r={[f.Success]:"alert alert-success",[f.Error]:"alert alert-danger",[f.Info]:"alert alert-info",[f.Warning]:"alert alert-warning"};return i.push(r[t.type]),t.fade&&i.push("fade"),i.join(" ")}static \u0275fac=function(i){return new(i||e)(p(J),p(Y))};static \u0275cmp=m({type:e,selectors:[["alert"]],inputs:{id:"id",fade:"fade"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"m-3"],[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],[3,"innerHTML"]],template:function(i,r){i&1&&u(0,me,3,1,"div",0),i&2&&s("ngIf",r.alerts.length)},dependencies:[j,S],encapsulation:2})}return e})();var de=e=>({"bg-light":e}),fe=()=>({exact:!0});function ve(e,v){e&1&&(n(0,"a",9),a(1,"Admin"),o())}function ge(e,v){if(e&1){let t=x();n(0,"nav",3)(1,"div",4)(2,"a",5),a(3,"Home"),o(),n(4,"a",6),a(5,"Profile"),o(),u(6,ve,2,0,"a",7),n(7,"a",8),b("click",function(){_(t);let r=l();return C(r.logout())}),a(8,"Logout"),o()()()}if(e&2){let t=l();c(2),s("routerLinkActiveOptions",L(2,fe)),c(4),s("ngIf",t.account.role===t.Role.Admin)}}var te=(()=>{class e{accountService;Role=k;account;constructor(t){this.accountService=t,this.accountService.account.subscribe(i=>this.account=i)}logout(){this.accountService.logout()}static \u0275fac=function(i){return new(i||e)(p(d))};static \u0275cmp=m({type:e,selectors:[["app"]],decls:5,vars:4,consts:[[1,"app-container",3,"ngClass"],["class","navbar navbar-expand navbar-dark bg-dark",4,"ngIf"],["name","subnav"],[1,"navbar","navbar-expand","navbar-dark","bg-dark"],[1,"navbar-nav"],["routerLink","/","routerLinkActive","active",1,"nav-item","nav-link",3,"routerLinkActiveOptions"],["routerLink","/profile","routerLinkActive","active",1,"nav-item","nav-link"],["routerLink","/admin","routerLinkActive","active","class","nav-item nav-link",4,"ngIf"],[1,"nav-item","nav-link",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-item","nav-link"]],template:function(i,r){i&1&&(n(0,"div",0),u(1,ge,9,3,"nav",1),A(2,"router-outlet",2)(3,"alert")(4,"router-outlet"),o()),i&2&&(s("ngClass",N(2,de,r.account)),c(),s("ngIf",r.account))},dependencies:[H,S,B,W,$,ee],encapsulation:2})}return e})();var ie=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=h({type:e,bootstrap:[te]});static \u0275inj=g({providers:[{provide:F,useFactory:Z,multi:!0,deps:[d]},{provide:y,useClass:K,multi:!0},{provide:y,useClass:q,multi:!0}],imports:[P,V,O,X]})}return e})();G.production&&void 0;D().bootstrapModule(ie).catch(e=>console.error(e));
